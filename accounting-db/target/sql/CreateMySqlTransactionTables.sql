--
-- Copyright 2016 Poesys Associates. All rights reserved.
--
-- Generated by AndroMDA Poesys/DB cartridge: DO NOT EDIT DIRECTLY.
-- Template: SubsystemMySqlSchemaTables.vsl

-- SQL schema for transaction subsystem

CREATE TABLE Item (
  transactionId ${col.sqlTypeMySql51} NOT NULL,  
  orderNumber INT NOT NULL,  
  amount NUMERIC(10, 2) NOT NULL,  
  debit BOOLEAN NOT NULL,  
  checked BOOLEAN NOT NULL,  
  accountName VARCHAR(100) NOT NULL,  
  entityName VARCHAR(500) NOT NULL,  
  CONSTRAINT ItemPK PRIMARY KEY (orderNumber, transactionId)
) ENGINE=InnoDB CHARSET=utf8;

CREATE TABLE Transaction (
  transactionId ${col.sqlTypeMySql51} NOT NULL, -- generated by sequence  
  description VARCHAR(4000) NOT NULL,  
  transactionDate TIMESTAMP NOT NULL,  
  checked BOOLEAN NOT NULL,  
  balance BOOLEAN NOT NULL,  
  CONSTRAINT TransactionPK PRIMARY KEY (transactionId)
) ENGINE=InnoDB CHARSET=utf8;

CREATE TABLE Reimbursement (
  receivablesOrderNumber INT NOT NULL,  
  reimbursingItemsOrderNumber INT NOT NULL,  
  receivablesTransactionId ${col.sqlTypeMySql51} NOT NULL,  
  reimbursingItemsTransactionId ${col.sqlTypeMySql51} NOT NULL,  
  reimbursedAmount NUMERIC NOT NULL,  
  allocatedAmount NUMERIC NOT NULL,  
  CONSTRAINT ReimbursementPK PRIMARY KEY (receivablesOrderNumber, reimbursingItemsOrderNumber, receivablesTransactionId, reimbursingItemsTransactionId)
) ENGINE=InnoDB CHARSET=utf8;

