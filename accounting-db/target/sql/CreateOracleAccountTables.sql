--
-- Copyright 2016 Poesys Associates. All rights reserved.
--
-- Generated by AndroMDA Poesys/DB cartridge: DO NOT EDIT DIRECTLY.
-- Template: SubsystemOracleSchemaTables.vsl

-- Oracle SQL schema for account subsystem

CREATE TABLE FiscalYear (
  year NUMBER(12)(4) NOT NULL,  
  startDate TIMESTAMP WITH TIME ZONE NOT NULL,  
  endDate TIMESTAMP WITH TIME ZONE NOT NULL,  
  CONSTRAINT FiscalYearPK PRIMARY KEY (year)
);

CREATE TABLE FiscalYearAccount (
  accountName VARCHAR2(100) NOT NULL,  
  entityName VARCHAR2(500) NOT NULL,  
  year NUMBER(12)(4) NOT NULL,  
  orderNumber NUMBER(12) NOT NULL,  
  accountType VARCHAR2(15) NOT NULL,  
  groupOrderNumber NUMBER(12) NOT NULL,  
  CONSTRAINT FiscalYearAccountPK PRIMARY KEY (accountName, entityName, year)
);

CREATE TABLE Account (
  entityName VARCHAR2(500) NOT NULL,  
  accountName VARCHAR2(100) NOT NULL,  
  description VARCHAR2(500) NOT NULL,  
  debitDefault NUMBER(1) NOT NULL,  
  active NUMBER(1) NOT NULL,  
  CONSTRAINT AccountPK PRIMARY KEY (accountName, entityName)
);

CREATE TABLE AccountGroup (
  accountType VARCHAR2(15) NOT NULL,  
  orderNumber NUMBER(12) NOT NULL,  
  groupName VARCHAR2(100) NOT NULL,  
  CONSTRAINT AccountGroupPK PRIMARY KEY (accountType, orderNumber)
);

CREATE TABLE Entity (
  entityName VARCHAR2(500) NOT NULL,  
  CONSTRAINT EntityPK PRIMARY KEY (entityName)
);

CREATE TABLE CapitalEntity (
  capitalEntityName VARCHAR2(500) NOT NULL,  
  CONSTRAINT CapitalEntityPK PRIMARY KEY (capitalEntityName)
);

CREATE TABLE AccountType (
  accountType VARCHAR2(15) NOT NULL,  
  CONSTRAINT AccountTypePK PRIMARY KEY (accountType)
);

CREATE TABLE CapitalAccount (
  accountName VARCHAR2(100) NOT NULL,  
  entityName VARCHAR2(500) NOT NULL,  
  ownership BINARY_DOUBLE NOT NULL,  
  capitalEntityName VARCHAR2(500) NOT NULL,  
  CONSTRAINT CapitalAccountPK PRIMARY KEY (accountName, entityName)
);

CREATE TABLE DistributionAccount (
  accountName VARCHAR2(100) NOT NULL,  
  entityName VARCHAR2(500) NOT NULL,  
  capitalEntityName VARCHAR2(500) NOT NULL,  
  CONSTRAINT DistributionAccountPK PRIMARY KEY (accountName, entityName)
);

CREATE TABLE SimpleAccount (
  accountName VARCHAR2(100) NOT NULL,  
  entityName VARCHAR2(500) NOT NULL,  
  receivable NUMBER(1) NOT NULL,  
  CONSTRAINT SimpleAccountPK PRIMARY KEY (accountName, entityName)
);

