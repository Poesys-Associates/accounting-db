--
-- Copyright 2016 Poesys Associates. All rights reserved.
--
-- Generated by AndroMDA Poesys/DB cartridge: DO NOT EDIT DIRECTLY.
-- Template: SubsystemOracleSchemaTables.vsl

-- Oracle SQL schema for transaction subsystem

CREATE TABLE Item (
  transactionId NUMBER(38) NOT NULL,  
  orderNumber NUMBER(12) NOT NULL,  
  amount BINARY_DOUBLE(10, 2) NOT NULL,  
  debit NUMBER(1) NOT NULL,  
  checked NUMBER(1) NOT NULL,  
  accountName VARCHAR2(100) NOT NULL,  
  entityName VARCHAR2(500) NOT NULL,  
  CONSTRAINT ItemPK PRIMARY KEY (orderNumber, transactionId)
);

CREATE TABLE Transaction (
  transactionId NUMBER(38) NOT NULL, -- generated by sequence  
  description VARCHAR2(4000) NOT NULL,  
  transactionDate TIMESTAMP WITH TIME ZONE NOT NULL,  
  checked NUMBER(1) NOT NULL,  
  balance NUMBER(1) NOT NULL,  
  CONSTRAINT TransactionPK PRIMARY KEY (transactionId)
);

CREATE TABLE Reimbursement (
  receivablesOrderNumber NUMBER(12) NOT NULL,  
  reimbursingItemsOrderNumber NUMBER(12) NOT NULL,  
  receivablesTransactionId NUMBER(38) NOT NULL,  
  reimbursingItemsTransactionId NUMBER(38) NOT NULL,  
  reimbursedAmount BINARY_DOUBLE NOT NULL,  
  allocatedAmount BINARY_DOUBLE NOT NULL,  
  CONSTRAINT ReimbursementPK PRIMARY KEY (receivablesOrderNumber, reimbursingItemsOrderNumber, receivablesTransactionId, reimbursingItemsTransactionId)
);

