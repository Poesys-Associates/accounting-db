--
-- Copyright 2016 Poesys Associates. All rights reserved.
--
-- Generated by AndroMDA Poesys/DB cartridge: DO NOT EDIT DIRECTLY.
-- Template: SubsystemAnsiSchemaTables.vsl

-- SQL schema for transaction subsystem

CREATE TABLE Item (
  transactionId INTEGER NOT NULL,  
  orderNumber INTEGER NOT NULL,  
  amount NUMERIC(10, 2) NOT NULL,  
  debit BOOLEAN NOT NULL,  
  checked BOOLEAN NOT NULL,  
  accountName VARCHAR(100) NOT NULL,  
  entityName VARCHAR(500) NOT NULL,  
  CONSTRAINT ItemPK PRIMARY KEY (orderNumber, transactionId)
);

CREATE TABLE Transaction (
  transactionId INTEGER NOT NULL, -- generated by sequence  
  description VARCHAR(4000) NOT NULL,  
  transactionDate TIMESTAMP NOT NULL,  
  checked BOOLEAN NOT NULL,  
  balance BOOLEAN NOT NULL,  
  CONSTRAINT TransactionPK PRIMARY KEY (transactionId)
);

CREATE TABLE Reimbursement (
  receivablesOrderNumber INTEGER NOT NULL,  
  reimbursingItemsOrderNumber INTEGER NOT NULL,  
  receivablesTransactionId INTEGER NOT NULL,  
  reimbursingItemsTransactionId INTEGER NOT NULL,  
  reimbursedAmount NUMERIC NOT NULL,  
  allocatedAmount NUMERIC NOT NULL,  
  CONSTRAINT ReimbursementPK PRIMARY KEY (receivablesOrderNumber, reimbursingItemsOrderNumber, receivablesTransactionId, reimbursingItemsTransactionId)
);

